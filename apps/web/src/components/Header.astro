---
import ThemeToggle from './ThemeToggle.astro';

interface Props {
  currentPath?: string;
}

const { currentPath = '/' } = Astro.props;

const navItems = [
  { href: '/', label: 'Home' },
  { href: '/compare', label: 'Compare' },
  { href: '/graph', label: 'Graph' },
  { href: '/packs', label: 'Packs' },
  { href: '/guides', label: 'Guides' },
];
---

<header class="header">
  <div class="header-container">
    <a href="/" class="logo">
      <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <rect width="32" height="32" rx="6" fill="currentColor"/>
        <path d="M10 16L14 12L18 16L22 12" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M10 22L14 18L18 22L22 18" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      <span>Agentic Patterns</span>
    </a>

    <nav class="nav" aria-label="Main navigation">
      <ul class="nav-list">
        {navItems.map(item => (
          <li class="nav-item">
            <a
              href={item.href}
              class:list={['nav-link', { active: currentPath === item.href }]}
              aria-current={currentPath === item.href ? 'page' : undefined}
            >
              {item.label}
            </a>
          </li>
        ))}
      </ul>
    </nav>

    <div class="header-actions">
      <ThemeToggle />
    </div>
  </div>
</header>

<style>
  .header {
    border-bottom: 1px solid var(--color-border);
    background-color: var(--color-bg);
    position: sticky;
    top: 0;
    z-index: 100;
  }

  .header-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: var(--spacing-md) var(--spacing-lg);
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--spacing-lg);
  }

  .logo {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    font-weight: 600;
    font-size: 1.125rem;
    color: var(--color-text);
    text-decoration: none;
  }

  .logo svg {
    color: var(--color-primary);
  }

  .nav {
    flex: 1;
    display: flex;
    justify-content: center;
  }

  .nav-list {
    display: flex;
    gap: var(--spacing-md);
    list-style: none;
    margin: 0;
    padding: 0;
  }

  .nav-link {
    color: var(--color-text-muted);
    text-decoration: none;
    padding: var(--spacing-sm) var(--spacing-md);
    border-radius: var(--radius-md);
    transition: color 0.2s ease, background-color 0.2s ease;
  }

  .nav-link:hover {
    color: var(--color-text);
    background-color: var(--color-border);
  }

  .nav-link.active {
    color: var(--color-primary);
    background-color: var(--color-primary-light);
  }

  .header-actions {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
  }

  @media (max-width: 768px) {
    .header-container {
      flex-wrap: wrap;
    }

    .nav {
      order: 3;
      width: 100%;
    }

    .nav-list {
      justify-content: center;
    }
  }
</style>
