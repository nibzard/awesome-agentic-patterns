{
  "title": "Layered Configuration Context",
  "status": "established",
  "authors": [
    "Nikola Balic (@nibzard)"
  ],
  "based_on": [
    "Boris Cherny (via Claude Code)"
  ],
  "category": "Context & Memory",
  "source": "https://www.nibzard.com/claude-code",
  "tags": [
    "context management",
    "configuration",
    "scoped context",
    "automatic loading",
    "CLAUDE.md"
  ],
  "id": "layered-configuration-context",
  "slug": "layered-configuration-context",
  "updated_at": "2026-01-05",
  "body": "\n## Problem\nAI agents require relevant context to perform effectively. Providing this context manually in every prompt is cumbersome, and a one-size-fits-all global context is often too broad or too narrow. Different projects, users, and organizational policies may require different baseline information for the agent.\n\n## Solution\nImplement a system of layered configuration files (e.g., named `CLAUDE.md` or a similar convention) that the agent automatically discovers and loads based on their location in the file system hierarchy. This allows for:\n\n-   **Enterprise/Organizational Context:** A root-level file (`/<enterprise_root>/CLAUDE.md`) for policies or information shared across all projects in an organization.\n-   **User-Specific Global Context:** A file in the user's home directory (`~/.claude/CLAUDE.md`) for personal preferences, common tools, or notes shared across all their projects.\n-   **Project-Specific Context:** A file within the project's root directory (`<project_root>/CLAUDE.md`), typically version-controlled, for project-specific instructions, architectural overviews, or key file descriptions.\n-   **Project-Local Context:** A local, non-version-controlled file (`<project_root>/CLAUDE.local.md`) for individual overrides, temporary notes, or secrets relevant to the project for that user.\n\nThe agent intelligently merges or prioritizes these context layers, providing a rich, tailored baseline of information without manual intervention in each query.\n\n## Example (configuration hierarchy)\n```mermaid\nflowchart TD\n    A[Enterprise Root<br/>/enterprise/CLAUDE.md] --> E[Merged Context]\n    B[User Global<br/>~/.claude/CLAUDE.md] --> E\n    C[Project Root<br/>project/CLAUDE.md] --> E\n    D[Project Local<br/>project/CLAUDE.local.md] --> E\n    E --> F[Agent Context Window]\n\n    style A fill:#e1f5fe\n    style B fill:#f3e5f5\n    style C fill:#e8f5e8\n    style D fill:#fff3e0\n    style F fill:#ffebee\n```\n\n## References\n- Based on the `CLAUDE.md` system described in \"Mastering Claude Code: Boris Cherny's Guide & Cheatsheet,\" section IV.\n\n[Source](https://www.nibzard.com/claude-code)"
}