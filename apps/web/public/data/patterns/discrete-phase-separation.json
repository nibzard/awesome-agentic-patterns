{
  "title": "Discrete Phase Separation",
  "status": "emerging",
  "authors": ["Nikola Balic (@nibzard)"],
  "based_on": ["Sam Stettner (Ambral)"],
  "category": "Orchestration & Control",
  "source": "https://claude.com/blog/building-companies-with-claude-code",
  "tags": ["orchestration", "planning", "research", "context-management", "multi-model"],
  "slug": "discrete-phase-separation",
  "id": "discrete-phase-separation",
  "summary": "TODO: Add a concise summary for \"Discrete Phase Separation\" describing the pattern's purpose and key benefits.",
  "updated_at": "2026-01-05",
  "body": "\n## Problem\n\nWhen AI agents attempt to simultaneously research, plan, and implement solutions, context contamination occurs. Competing priorities within a single conversation degrade output quality as the agent struggles to balance exploration, strategic thinking, and execution. This results in incomplete research, unclear plans, and suboptimal implementations.\n\n## Solution\n\nBreak development workflows into isolated phases with clean handoffs between them. Each phase runs in a separate conversation with a fresh context window, focusing exclusively on its objective:\n\n**Research Phase (Opus 4.1):**\n\n- Deep exploration of requirements, existing code, and constraints\n- Comprehensive background investigation\n- No implementation concerns\n\n**Planning Phase (Opus 4.1):**\n\n- Create structured implementation roadmap\n- Define clear steps and dependencies\n- No coding distractions\n\n**Implementation Phase (Sonnet 4.5):**\n\n- Execute each plan step systematically\n- Focus purely on code quality and functionality\n- Leverage the distilled outputs from previous phases\n\n**Key principle:** Pass only distilled conclusions between phases, not full conversation history. This prevents context pollution while maintaining necessary information flow.\n\n```mermaid\ngraph LR\n    A[Research Phase<br/>Opus 4.1] -->|Distilled Findings| B[Planning Phase<br/>Opus 4.1]\n    B -->|Implementation Roadmap| C[Execution Phase<br/>Sonnet 4.5]\n\n    style A fill:#e1f5ff\n    style B fill:#fff4e1\n    style C fill:#e8f5e9\n```\n\n## How to use it\n\n**When to apply:**\n\n- Complex features requiring significant background research\n- Refactoring projects where understanding existing code is critical\n- New codebases where architectural decisions need careful consideration\n- Any task where mixing research and implementation degrades quality\n\n**Implementation approach:**\n\n1. **Research phase** - Start fresh conversation with Opus 4.1:\n   \n- \"Research the authentication system and document all OAuth flows\"\n   - Compile findings into a structured document\n   - Close conversation\n\n2. **Planning phase** - New conversation with Opus 4.1:\n   \n- Provide distilled research findings (not full transcript)\n   - \"Create implementation plan for adding Google OAuth support\"\n   - Generate step-by-step roadmap\n   - Close conversation\n\n3. **Execution phase** - New conversation with Sonnet 4.5:\n   \n- Provide the implementation plan\n   - \"Implement step 1: Create OAuth configuration module\"\n   - Execute systematically through each step\n\n**Prerequisites:**\n\n- Clear handoff documents between phases\n- Discipline to resist combining phases\n- Understanding of which model strengths to leverage\n\n## Trade-offs\n\n**Pros:**\n\n- Higher quality outputs in each phase due to focused attention\n- Prevents context contamination from competing objectives\n- Leverages model-specific strengths (Opus for reasoning, Sonnet for execution)\n- Clearer mental model for complex projects\n- Easier to debug which phase introduced issues\n\n**Cons:**\n\n- Requires more explicit phase management and handoffs\n- May feel slower for simple tasks where single-pass is sufficient\n- Requires discipline to maintain phase boundaries\n- Information loss risk if handoffs are poorly structured\n- Higher total token usage across multiple conversations\n\n## References\n\n- [Building Companies with Claude Code](https://claude.com/blog/building-companies-with-claude-code) - Sam Stettner (Ambral) emphasizes: \"Don't make Claude do research while it's trying to plan, while it's trying to implement.\"\n- Related patterns: [Sub-Agent Spawning](sub-agent-spawning.md), [Plan-Then-Execute Pattern](plan-then-execute.md)\n"
}
