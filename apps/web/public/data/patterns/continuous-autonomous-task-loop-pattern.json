{
  "title": "Continuous Autonomous Task Loop Pattern",
  "status": "established",
  "authors": ["Nikola Balic (@nibzard)"],
  "based_on": ["Internal Practice"],
  "category": "Orchestration & Control",
  "source": "https://gist.github.com/nibzard/a97ef0a1919328bcbc6a224a5d2cfc78",
  "tags": [
    "autonomous-execution",
    "task-loop",
    "rate-limiting",
    "git-automation",
    "cli-driven",
    "stream-processing"
  ],
  "slug": "continuous-autonomous-task-loop-pattern",
  "id": "continuous-autonomous-task-loop-pattern",
  "summary": "Continuous autonomous loop that handles task selection, execution, and completion without human intervention, with intelligent rate limit handling and automated git management.",
  "updated_at": "2026-01-05",
  "body": "\n## Problem\n\nTraditional development workflows require constant human intervention for task management:\n\n- **Manual Task Selection**: Developers spend time deciding what to work on next from todo lists\n- **Context Switching Overhead**: Moving between different types of tasks interrupts flow state\n- **Rate Limit Interruptions**: API rate limits break development momentum and require manual waiting\n- **Repetitive Git Operations**: Each task completion requires manual staging, committing, and status checking\n- **Error Recovery**: Failed tasks need manual diagnosis and restart\n\nThis manual orchestration reduces overall productivity and prevents developers from focusing on higher-level problem solving.\n\n## Solution\n\nImplement a continuous autonomous loop that handles task selection, execution, and completion without human intervention:\n\n1. **Fresh Context Per Iteration**: Each task starts with a clean context to avoid contamination\n2. **Autonomous Task Selection**: Use specialized subagents to pick the next appropriate task\n3. **Automated Git Management**: Handle commits and status updates through dedicated subagents\n4. **Intelligent Rate Limit Handling**: Detect rate limits and implement exponential backoff\n5. **Stream-Based Progress Tracking**: Real-time feedback through JSON streaming\n6. **Configurable Execution Limits**: Safety bounds to prevent runaway execution\n\nThe pattern operates in a continuous loop until stopped manually or reaching iteration limits.\n\n## Example\n\n```mermaid\nsequenceDiagram\n    participant Script as Autonomous Script\n    participant TaskAgent as Task Master Subagent\n    participant MainAgent as Main Agent\n    participant GitAgent as Git Master Subagent\n    participant System as File System\n\n    loop Continuous Task Processing\n        Script->>TaskAgent: Select next task from TODO.md\n        TaskAgent-->>Script: \"Implement user authentication\"\n\n        Script->>MainAgent: Execute task autonomously\n        Note over MainAgent: --dangerously-skip-permissions<br/>Fresh context, focused execution\n        MainAgent->>System: Implement code changes\n        MainAgent-->>Script: Task completed successfully\n\n        Script->>GitAgent: Commit changes\n        GitAgent->>System: git add, commit with message\n        GitAgent-->>Script: Changes committed\n\n        alt Rate Limit Detected\n            Script->>Script: Exponential backoff wait\n            Note over Script: Intelligent delay before retry\n        end\n\n        Script->>Script: Update progress counters\n        Note over Script: Continue to next iteration\n    end\n```\n\n## How to use it\n\n### Prerequisites\n- CLI agent tool (Claude Code, etc.) with autonomous execution capabilities\n- Git repository with TODO.md or similar task file\n- JSON parsing tools (jq) for stream processing\n\n### Implementation Steps\n\n1. **Task File Setup**: Create structured todo file with discrete, actionable tasks\n2. **Configure Loop Script**: Set iteration limits and rate limit handling parameters\n3. **Subagent Configuration**: Define specialized agents for task selection and git operations\n4. **Safety Configuration**: Set appropriate permission levels and monitoring\n5. **Launch Loop**: Start autonomous execution with configured parameters\n\n### Key Configuration Options\n```bash\n# Example configuration\nMAX_ITERATIONS=50           # Safety limit\nCLAUDE_CLI=\"claude\"         # CLI tool choice\nRATE_LIMIT_BACKOFF=300     # Seconds to wait on rate limit\nSTREAM_JSON=true           # Real-time progress tracking\n```\n\n### Safety Considerations\n- Always set maximum iteration limits\n- Use version control for rollback capability\n- Monitor execution logs for unexpected behavior\n- Start with small task batches to validate behavior\n\n## Trade-offs\n\n**Pros:**\n- **Complete Autonomy**: Eliminates manual task orchestration overhead\n- **Continuous Progress**: Maintains development momentum without human intervention\n- **Fresh Context**: Each task gets clean reasoning context\n- **Intelligent Error Handling**: Automated recovery from common failure modes\n- **Git Automation**: Maintains clean commit history automatically\n- **Rate Limit Resilience**: Handles API constraints gracefully\n\n**Cons/Considerations:**\n- **Reduced Human Oversight**: Less control over individual task decisions\n- **Permission Requirements**: Needs elevated execution permissions for autonomy\n- **Runaway Risk**: Potential for unintended extensive execution\n- **Task Quality Dependency**: Effectiveness depends on well-structured task definitions\n- **Limited Complex Problem Solving**: Best for discrete, well-defined tasks\n- **Resource Consumption**: Continuous execution uses computational resources\n\n## References\n\n- [Original Autonomous Task Processing Script](https://gist.github.com/nibzard/a97ef0a1919328bcbc6a224a5d2cfc78) - Complete implementation example\n- [Claude Code Documentation](https://docs.anthropic.com/en/docs/claude-code) - CLI agent capabilities\n"
}
